<ion-header>

  <ion-navbar color="primary">
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-buttons end>
      <button ion-button icon-only (click)="loadProfilePage()">
        <ion-icon name="contact"></ion-icon>
			</button>
		</ion-buttons>
    <div text-center>
   		 <img src = "assets/imgs/OneShotLogo-white.jpg" width = "auto" height = "auto" alt = "OneShot">
   	</div>
    <ion-title>
      <ion-label>{{bars.barname}}</ion-label>
    </ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding class="mainStyle">
    <ion-card>
        <img src="{{bars.barImage}}"/>
        <ion-card-content>
          <ion-card-title>
            {{bars.barname}}
          </ion-card-title>
          <p>
            {{bars.description}}
          </p>
        </ion-card-content>
      </ion-card>

      <ion-card>
        <img src="{{bars.drinkImage}}"/>
          <ion-card-content>
            <ion-card-title>
              Best Drink
              </ion-card-title>
              <p>
                {{bars.drink}}
              </p>
          </ion-card-content>
          </ion-card>

      <ion-card>
        <ion-card-header>
          Rating
        </ion-card-header>
        <ion-card-content>
          <rating [(ngModel)]="ratings.rate" 
                  readOnly="false" 
                  max="5" 
                  emptyIcon ="star outline" 
                  Icon="star" 
                  nullable="false" 
                  (ngModelChange)="onModelChange($event)" >
            </rating>
        </ion-card-content>
      </ion-card>

      <ion-list>

          <ion-item>
            <ion-label floating>Comments on Drinks or Bar</ion-label>
            <ion-textarea [(ngModel)]="posts.message"></ion-textarea>
          </ion-item>
          <button ion-button block (click)="submitComments()">Submit</button>
        
        </ion-list>

        <ion-card *ngFor="let info of infos">

          <ion-item>
            <ion-avatar item-start>
              <img src="img/marty-avatar.png">
            </ion-avatar>
            <h2>{{(profileData | async)?.fn}}</h2>
            <p>November 5, 1955 {{info.date}}</p>
          </ion-item>
        
          <img src="img/advance-card-bttf.png">
        
          <ion-card-content>
            <p>{{info.message}}</p>
          </ion-card-content>
        
          <ion-row>
            <ion-col>
              <button ion-button icon-start clear small>
                <ion-icon name="thumbs-up"></ion-icon>
                <div>12 Likes</div>
              </button>
            </ion-col>
            <ion-col>
              <button ion-button icon-start clear small>
                <ion-icon name="text"></ion-icon>
                <div>4 Comments</div>
              </button>
            </ion-col>
            <ion-col center text-center>
              <ion-note>
                11h ago
              </ion-note>
            </ion-col>
          </ion-row>
        
        </ion-card>
        <!--https://forum.ionicframework.com/t/star-ratings-in-ionic-2/58326/23
        https://firebase.google.com/docs/database/web/read-and-write
      https://angularfirebase.com/lessons/star-ratings-system-with-firestore/
      -->
    
</ion-content>
